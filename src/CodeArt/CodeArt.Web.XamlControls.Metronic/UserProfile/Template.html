<ControlTemplate
        xmlns="http://schemas.codeart.cn/web/xaml"
        xmlns:m="http://schemas.codeart.cn/web/xaml/metronic">
<div id="{TemplateBinding Id}" class="profile-sidebar" 
    name="{TemplateBinding Name}"
    data-photoWidth="{TemplateBinding PhotoWidth}" 
    data-photoHeight="{TemplateBinding PhotoHeight}"
    data-userId="{TemplateBinding UserId}"
    data-photoId="{TemplateBinding PhotoId}"
    data-proxy="{give:new $$metronic.user.profile()}">
    <div class="portlet light profile-sidebar-portlet">
        <div class="profile-userpic">
            <img src="{TemplateBinding Photo}" class="img-responsive img-userpic" alt="图像" />
        </div>
        <div class="profile-usertitle">
            <div class="profile-usertitle-name"><run content="{TemplateBinding UserName}"></run></div>
            <div class="profile-usertitle-job">加入时间：<run content="{TemplateBinding JoinTime}"></run></div>
        </div>
        <div class="profile-userbuttons">
            <button type="button" class="btn btn-circle green-haze btn-sm btn-user-photo">修改图像</button>
        </div>
        <div class="profile-usermenu">
            <ul class="nav">
                <ContentPresenter Content="{TemplateBinding Catalog}" />
            </ul>
        </div>
    </div>
</div>

<m:modal id="{TemplateBinding Id,Convert,Converter={Static m:UserProfilePhotoModalIdConverter.Instance}}" size="lg" title="修改图像">
    <m:cropper maxfilesize="4096" data-name="cropper" disk="false" allowMode="false" id="{TemplateBinding Id,Convert,Converter={Static m:UserProfilePhotoCropperIdConverter.Instance}}" DiskRootId="{TemplateBinding DiskRootId}">

    </m:cropper>
    <m:modal.footer>
        <m:button class="userprofile-cropper-btn-ok" color="blue" icon="check">提交保存</m:button>
        <m:button color="default" data-dismiss="modal">取消</m:button>
    </m:modal.footer>
</m:modal>
<LinkCode ExternalKey="metronic:profile.css" Origin="Header" />
<LinkCode ExternalKey="metronic:user.js" Origin="Bottom" />
</ControlTemplate>